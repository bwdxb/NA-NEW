!function(){"use strict";var fullScroll=function(params){var main=document.getElementById(params.mainElement),sections=main.getElementsByTagName("section"),defaults={container:main,sections:sections,animateTime:params.animateTime||.7,animateFunction:params.animateFunction||"ease",maxPosition:sections.length-1,currentPosition:0,displayDots:void 0===params.displayDots||params.displayDots,dotsPosition:params.dotsPosition||"left"};this.defaults=defaults,this.init()};fullScroll.prototype.init=function(){this.buildPublicFunctions().buildSections().buildDots().addEvents();var anchor=location.hash.replace("#","").split("/")[0];location.hash=0,this.changeCurrentPosition(anchor),this.registerIeTags()},fullScroll.prototype.buildSections=function(){for(var sections=this.defaults.sections,i=0;i<sections.length;i++)sections[i].setAttribute("data-index",i);return this},fullScroll.prototype.buildDots=function(){this.ul=document.createElement("ul"),this.ul.className=this.updateClass(1,"dots",this.ul.className),this.ul.className=this.updateClass(1,"right"==this.defaults.dotsPosition?"dots-right":"dots-left",this.ul.className);for(var _self=this,sections=this.defaults.sections,i=0;i<sections.length;i++){var li=document.createElement("li"),a=document.createElement("a");a.setAttribute("href","#"+i),li.appendChild(a),this.ul.appendChild(li)}return this.ul.childNodes[0].firstChild.className=this.updateClass(1,"active",this.ul.childNodes[0].firstChild.className),this.defaults.displayDots&&document.body.appendChild(this.ul),this},fullScroll.prototype.addEvents=function(){return document.addEventListener?(document.addEventListener("mousewheel",this.mouseWheelAndKey,!1),document.addEventListener("wheel",this.mouseWheelAndKey,!1),document.addEventListener("keyup",this.mouseWheelAndKey,!1),document.addEventListener("touchstart",this.touchStart,!1),document.addEventListener("touchend",this.touchEnd,!1),window.addEventListener("hashchange",this.hashChange,!1),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&("ontouchstart"in window||(document.body.style="overflow: scroll;",document.documentElement.style="overflow: scroll;"))):(document.attachEvent("onmousewheel",this.mouseWheelAndKey,!1),document.attachEvent("onkeyup",this.mouseWheelAndKey,!1)),this},fullScroll.prototype.buildPublicFunctions=function(){var mTouchStart=0,mTouchEnd=0,_self=this;return this.mouseWheelAndKey=function(event){event.deltaY>0||40==event.keyCode?(_self.defaults.currentPosition++,_self.changeCurrentPosition(_self.defaults.currentPosition)):(event.deltaY<0||38==event.keyCode)&&(_self.defaults.currentPosition--,_self.changeCurrentPosition(_self.defaults.currentPosition)),_self.removeEvents()},this.touchStart=function(event){mTouchStart=parseInt(event.changedTouches[0].clientY),mTouchEnd=0},this.touchEnd=function(event){((mTouchEnd=parseInt(event.changedTouches[0].clientY))-mTouchStart>100||mTouchStart-mTouchEnd>100)&&(mTouchEnd>mTouchStart?_self.defaults.currentPosition--:_self.defaults.currentPosition++,_self.changeCurrentPosition(_self.defaults.currentPosition))},this.hashChange=function(event){if(location){var anchor=location.hash.replace("#","").split("/")[0];""!==anchor&&(anchor<0?_self.changeCurrentPosition(0):anchor>_self.defaults.maxPosition?_self.changeCurrentPosition(_self.defaults.maxPosition):(_self.defaults.currentPosition=anchor,_self.animateScroll()))}},this.removeEvents=function(){document.addEventListener?(document.removeEventListener("mousewheel",this.mouseWheelAndKey,!1),document.removeEventListener("wheel",this.mouseWheelAndKey,!1),document.removeEventListener("keyup",this.mouseWheelAndKey,!1),document.removeEventListener("touchstart",this.touchStart,!1),document.removeEventListener("touchend",this.touchEnd,!1)):(document.detachEvent("onmousewheel",this.mouseWheelAndKey,!1),document.detachEvent("onkeyup",this.mouseWheelAndKey,!1)),setTimeout((function(){_self.addEvents()}),600)},this.animateScroll=function(){var animateTime=this.defaults.animateTime,animateFunction=this.defaults.animateFunction,position=100*this.defaults.currentPosition;this.defaults.container.style.webkitTransform="translateY(-"+position+"%)",this.defaults.container.style.mozTransform="translateY(-"+position+"%)",this.defaults.container.style.msTransform="translateY(-"+position+"%)",this.defaults.container.style.transform="translateY(-"+position+"%)",this.defaults.container.style.webkitTransition="all "+animateTime+"s "+animateFunction,this.defaults.container.style.mozTransition="all "+animateTime+"s "+animateFunction,this.defaults.container.style.msTransition="all "+animateTime+"s "+animateFunction,this.defaults.container.style.transition="all "+animateTime+"s "+animateFunction;for(var i=0;i<this.ul.childNodes.length;i++)this.ul.childNodes[i].firstChild.className=this.updateClass(2,"active",this.ul.childNodes[i].firstChild.className),i==this.defaults.currentPosition&&(this.ul.childNodes[i].firstChild.className=this.updateClass(1,"active",this.ul.childNodes[i].firstChild.className))},this.changeCurrentPosition=function(position){""!==position&&(_self.defaults.currentPosition=position,location.hash=_self.defaults.currentPosition)},this.registerIeTags=function(){document.createElement("section")},this.updateClass=function(type,newClass,currentClass){return 1==type?currentClass+" "+newClass:2==type?currentClass.replace(newClass,""):void 0},this},window.fullScroll=fullScroll}();